{"version":3,"file":"commonHelpers.js","sources":["../src/js/header.js","../src/img/notification-svg/error.svg","../src/img/notification-svg/caution.svg","../src/img/notification-svg/hello.svg","../src/img/notification-svg/ok.svg","../src/scripts/booksAPI.js","../src/js/home-books.js","../src/js/home-categories.js","../src/js/home-books-category.js"],"sourcesContent":["// Burger menu\nconst burgerMenu = document.querySelector('.burger-menu');\nconst mobileMenu = document.querySelector('.mobile-menu');\nconst useElement = burgerMenu.querySelector('use');\n\nburgerMenu.addEventListener('click', () => {\n  mobileMenu.classList.toggle('active');\n  if (mobileMenu.classList.contains('active')) {\n    useElement.setAttribute('xlink:href', '../img/sprite.svg#icon-x-close');\n  } else {\n    burgerMenu.src = './img/burger-menu-icon.svg';\n    useElement.setAttribute(\n      'xlink:href',\n      '../img/sprite.svg#icon-burger-menu-icon'\n    );\n  }\n});\n//====================\n\n// Page theme change\nconst logoTextIcon = document.querySelector('.logo-text');\nconst burgerMenuIcon = document.querySelector('.burger-menu');\nconst themeToggle = document.querySelector('.toggle-theme');\nlet isDarkMode = false;\n\nthemeToggle.addEventListener('click', function () {\n  document.body.classList.toggle('dark-mode');\n  isDarkMode = !isDarkMode;\n});\n//=========================\n","export default \"__VITE_ASSET__8479b7dd__\"","export default \"__VITE_ASSET__02852ca5__\"","export default \"__VITE_ASSET__37883dd9__\"","export default \"__VITE_ASSET__8517b2d7__\"","import Axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport iconError from '../img/notification-svg/error.svg';\nimport iconCaution from '../img/notification-svg/caution.svg';\nimport iconHello from '../img/notification-svg/hello.svg';\nimport iconOk from '../img/notification-svg/ok.svg';\n\nexport class BooksAPI {\n  constructor() {\n    this.BASE_URL = 'https://books-backend.p.goit.global/books';\n    this.CATEGORY_LIST = '/category-list';\n    this.TOP_BOOKS = '/top-books';\n    this.URL_CATEGORY = `/category?`;\n    this.iconError = iconError;\n    this.iconCaution = iconCaution;\n    this.iconHello = iconHello;\n    this.iconOk = iconOk;\n    this.errorNotification = {\n      title: 'Error',\n      message: '',\n      backgroundColor: '#ff4e4e',\n      icon: this.iconError,\n    };\n  }\n  async fetchCategoryList() {\n    const url = this.BASE_URL + this.CATEGORY_LIST;\n    try {\n      const res = await Axios.get(url);\n      return res.data;\n    } catch (error) {\n      this.errorNotification.message = error;\n      this.showNotification(this.errorNotification);\n    }\n  }\n\n  async fetchTopBooks() {\n    const url = this.BASE_URL + this.TOP_BOOKS;\n    try {\n      const res = await Axios.get(url);\n      return res.data;\n    } catch (error) {\n      this.errorNotification.message = error;\n      this.showNotification(this.errorNotification);\n    }\n  }\n\n  async fetchBookByID(id) {\n    const url = `${this.BASE_URL}/${id}`;\n    try {\n      const res = await Axios.get(url);\n      return res.data;\n    } catch (error) {\n      this.errorNotification.message = error;\n      this.showNotification(this.errorNotification);\n    }\n  }\n\n  async fetchBooksBySelectedCategory(userSelectedCategory) {\n    const queryCategory = new URLSearchParams();\n    queryCategory.append('category', userSelectedCategory);\n    const url = `${this.BASE_URL}${\n      this.URL_CATEGORY\n    }${queryCategory.toString()}`;\n\n    try {\n      const res = await Axios.get(url);\n      return res.data;\n    } catch (error) {\n      this.errorNotification.message = error;\n      this.showNotification(this.errorNotification);\n    }\n  }\n\n  showNotification({\n    title = 'Hello',\n    message = 'Type in your message, please',\n    backgroundColor = 'white',\n    icon = this.iconCaution,\n  }) {\n    return iziToast.show({\n      titleSize: '16px',\n      title: `${title}`,\n      message: `${message}`,\n      messageSize: '16px',\n      closeOnEscape: true,\n      position: 'topRight',\n      backgroundColor: `${backgroundColor}`,\n      iconUrl: `${icon}`,\n    });\n  }\n}\n\n// ==============  List of steps\n\n// ==============  Create a prototype of BooksAPI()\n\n// const booksAPI = new BooksAPI();\n\n// ==============  Method fetchCategoryList returns you a promise, therefore use then().catch() to receive the data of response.\n\n// booksAPI\n//   .fetchCategoryList()\n//   .then(res => console.log(res[0]))\n//   .catch(err => console.log(err));\n\n// ==============  Method fetchTopBooks returns you a promise, therefore use then().catch() to receive the TOP 5 books of EACH CATEGORY.\n\n// booksAPI\n//   .fetchTopBooks()\n//   .then(res => console.log(res[0].books[0]._id))\n//   .catch(err => console.log(err));\n\n// ==============  Method fetchBookByID returns you a promise, therefore use then().catch().\n// ==============  also this method awaits as argument the ID of chose book as the string.\n\n// booksAPI\n//   .fetchBookByID('643282b1e85766588626a0dc')\n//   .then(res => console.log(res))\n//   .catch(err => console.log(err));\n\n// ==============  Method fetchBooksBySelectedCategory returns you a promise, therefore use then().catch().\n// ==============  also this method awaits as argument the CATEGORY NAME which user has choosen as the string.\n\n// booksAPI\n//   .fetchBooksBySelectedCategory('Advice How-To and Miscellaneous')\n//   .then(res => console.log(res))\n//   .catch(err => console.log(err));\n","import { BooksAPI } from '../scripts/booksAPI';\n\nexport class BooksSection {\n  constructor() {\n    this.booksAPI = new BooksAPI();\n    this.allCategoriesName = 'ALL CATEGORIES';\n    this.bookClickCallback = null;\n  }\n  addEventListenerBookClick(callback) {\n    if (typeof callback !== 'function') return;\n\n    this.bookClickCallback = callback;\n  }\n\n  getBooksOfClickCategory(categoryName) {\n    // also this logic in button HOME\n\n    if (categoryName === this.allCategoriesName) {\n      this.booksAPI\n        .fetchTopBooks()\n        .then(res => console.log(res))\n        .catch(err => console.log(err));\n      return;\n    }\n\n    this.booksAPI\n      .fetchBooksBySelectedCategory(categoryName)\n      .then(res => {\n        console.log(res);\n        this.renderListBooks(res);\n        this.addBookListeners();\n      })\n      .catch(err => console.log(err));\n  }\n\n  renderListBooks(res) {\n    const html = this.itemsTemplate(res);\n    document.getElementById('books-list').innerHTML = html;\n  }\n\n  itemsTemplate(items) {\n    return items.map(this.itemTemplate).join('');\n  }\n\n  itemTemplate(item) {\n    const { book_image, author, _id, list_name } = item;\n    return `\n          <li class=\"book-item book-item-styles\" data-id=\"${_id}\">\n              <div class=\"wrap-item-img\">\n                  <img class=\"book-img\" src=\"${book_image}\" alt=\"\" title=\"\"/>\n              </div>\n              <div class=\"wrap-info\">\n                  <p class=\"info-item-name\">\n                      ${list_name}\n                  </p>\n                   <p class=\"info-item-author\">\n                      ${author}\n                  </p>\n              </div>\n          </li>\n      `;\n  }\n\n  addBookListeners() {\n    const books = document.querySelectorAll('.book-item');\n\n    books.forEach(book => {\n      book.addEventListener('click', event => {\n        this.handleBookClick(event);\n      });\n    });\n  }\n\n  handleBookClick(event) {\n    const idBook = event.currentTarget.dataset.id;\n    // console.log(idBook);\n\n    if (this.bookClickCallback) {\n      this.bookClickCallback(idBook);\n    }\n  }\n}\n","import { BooksAPI } from '../scripts/booksAPI';\n\nexport class CategoriesSection {\n  constructor() {\n    this.booksAPI = new BooksAPI();\n    this.allCategoriesName = 'ALL CATEGORIES';\n\n    const allCategoriesEl = document.querySelector('.home-all-categories');\n    allCategoriesEl.dataset.categoryName = this.allCategoriesName;\n    allCategoriesEl.addEventListener('click', this.handleCategoryClick);\n\n    this.getCategories();\n    this.categoryClickCallback = null;\n  }\n\n  addEventListenerCategoryClick(callback) {\n    if (typeof callback !== 'function') return;\n\n    this.categoryClickCallback = callback;\n  }\n\n  getCategories() {\n    this.booksAPI\n      .fetchCategoryList()\n      .then(res => {\n        this.renderListCategory(res);\n        this.addCategoriesListeners();\n      })\n      .catch(err => console.log(err));\n  }\n\n  renderListCategory(res) {\n    const html = this.itemsTemplate(res);\n    document.getElementById('categories-list').innerHTML = html;\n  }\n\n  itemsTemplate(items) {\n    return items.map(this.itemTemplate).join('');\n  }\n\n  itemTemplate(item) {\n    const { list_name } = item;\n    return `\n              <li class=\"home-category-item item-style\">\n                  <div class=\"link-item\" data-category-name=\"${list_name}\">${list_name}</div>\n              </li>\n          `;\n  }\n\n  addCategoriesListeners() {\n    const categories = document.querySelectorAll('.link-item');\n\n    categories.forEach(categoryEl => {\n      categoryEl.addEventListener('click', event => {\n        this.handleCategoryClick(event);\n      });\n    });\n  }\n\n  handleCategoryClick(event) {\n    const categoryName = event.currentTarget.dataset.categoryName;\n    console.log(categoryName);\n\n    if (this.categoryClickCallback) {\n      this.categoryClickCallback(categoryName);\n    }\n  }\n}\n","import { BooksSection } from './home-books';\nimport { CategoriesSection } from './home-categories';\n\nconst categoriesSection = new CategoriesSection();\nconst bookSection = new BooksSection();\n\ncategoriesSection.addEventListenerCategoryClick(onCategoryClick);\n\nfunction onCategoryClick(categoryName) {\n  bookSection.getBooksOfClickCategory(categoryName);\n}\n\nbookSection.addEventListenerBookClick(onBookClick);\n\nfunction onBookClick(idBook) {\n  console.log(idBook);\n}\n"],"names":["burgerMenu","mobileMenu","useElement","themeToggle","iconError","iconCaution","iconHello","iconOk","BooksAPI","url","Axios","error","id","userSelectedCategory","queryCategory","title","message","backgroundColor","icon","iziToast","BooksSection","callback","categoryName","res","err","html","items","item","book_image","author","_id","list_name","book","event","idBook","CategoriesSection","allCategoriesEl","categoryEl","categoriesSection","bookSection","onCategoryClick","onBookClick"],"mappings":"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"}